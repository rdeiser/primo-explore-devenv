!function a(n,o,i){function c(e,t){if(!o[e]){if(!n[e]){var r="function"==typeof require&&require;if(!t&&r)return r(e,!0);if(l)return l(e,!0);throw(t=new Error("Cannot find module '"+e+"'")).code="MODULE_NOT_FOUND",t}r=o[e]={exports:{}},n[e][0].call(r.exports,function(t){return c(n[e][1][t]||t)},r,r.exports,a,n,o,i)}return o[e].exports}for(var l="function"==typeof require&&require,t=0;t<i.length;t++)c(i[t]);return c}({1:[function(t,e,r){"use strict";t("primo-explore-external-search"),angular.module("viewCustom",["externalSearch"]).value("searchTargets",[{name:"Worldcat",url:"https://my.library.on.worldcat.org/search?",img:"https://cdn.rawgit.com/alliance-pcsg/primo-explore-worldcat-button/7ee112df/img/worldcat-logo.png",alt:"Worldcat Logo",mapping:function(t,e){var r={any:"kw",title:"ti",creator:"au",subject:"su",isbn:"bn",issn:"n2"};try{return"queryString="+t.map(function(t){t=t.split(",");return(r[t[0]]||"kw")+":"+(t[2]||"")+" "+(t[3]||"")+" "}).join("")}catch(t){return""}}},{name:"Google Scholar",url:"https://scholar.google.com/scholar?q=",img:"https://upload.wikimedia.org/wikipedia/commons/thumb/5/53/Google_%22G%22_Logo.svg/200px-Google_%22G%22_Logo.svg.png",alt:"Google Scholar Logo",mapping:function(t,e){try{return t.map(function(t){return t.split(",")[2]||""}).join(" ")}catch(t){return""}}}])},{"primo-explore-external-search":2}],2:[function(t,e,r){t("./js/external-search.module.js"),e.exports="externalSearch"},{"./js/external-search.module.js":3}],3:[function(t,e,r){angular.module("externalSearch",[]).value("searchTargets",[]).value("externalSearchText","").component("prmFacetAfter",{bindings:{parentCtrl:"<"},controller:["externalSearch","$scope",function(t,e){this.$onInit=function(){t.setController(this.parentCtrl),t.addExtSearch(),e.$watch("$ctrl.parentCtrl.facets",function(){t.addExtSearch()})}}]}).component("prmPageNavMenuAfter",{controller:["externalSearch",function(t){this.$onInit=function(){t.getController()&&t.addExtSearch()}}]}).component("prmFacetExactAfter",{bindings:{parentCtrl:"<"},template:'<div ng-if="name === \'External Search\'">          <div ng-hide="$ctrl.parentCtrl.facetGroup.facetGroupCollapsed">              <div class="section-content animate-max-height-variable">                  <div ng-if="introText" id="external-search-intro">{{introText}}</div>                  <div class="md-chips md-chips-wrap">                      <div ng-repeat="target in targets" aria-live="polite" class="md-chip animate-opacity-and-scale facet-element-marker-local4">                          <div class="md-chip-content layout-row" role="button" tabindex="0">                              <strong dir="auto" title="{{ target.name }}">                                  <a ng-href="{{ target.url + target.mapping(queries, filters) }}" target="_blank">                                      <img ng-src="{{ target.img }}" width="22" height="22" alt="{{ target.alt }}" style="vertical-align:middle;"> {{ target.name }}                                  </a>                              </strong>                          </div>                      </div>                  </div>              </div>          </div>      </div>',controller:["$scope","$location","searchTargets","externalSearchText",function(r,a,n){this.$onInit=function(){r.name=this.parentCtrl.facetGroup.name,r.targets=n;var t=a.search().query,e=a.search().pfilter;r.queries="[object Array]"===Object.prototype.toString.call(t)?t:!!t&&[t],r.filters="[object Array]"===Object.prototype.toString.call(e)?e:!!e&&[e]}}]}).factory("externalSearch",function(){return{getController:function(){return this.prmFacetCtrl||!1},setController:function(t){this.prmFacetCtrl=t},addExtSearch:function(t){((t=t||this.prmFacetCtrl).facets.length<1||"External Search"!==t.facets[0].name)&&t.facets.unshift({name:"External Search",displayedType:"exact",limitCount:0,facetGroupCollapsed:!1,values:[]})}}})},{}]},{},[1]);
//# sourceMappingURL=custom.js.map
